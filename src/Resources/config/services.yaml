services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    Synolia\SchedulerCommandPlugin\:
        resource: '../../*'
        exclude: '../../{Entity,Migrations,SchedulerCommandPlugin.php}'

    Synolia\SchedulerCommandPlugin\Menu\AdminMenuListener:
        tags:
            - { name: kernel.event_listener, event: sylius.menu.admin.main, method: addAdminMenuItems }

    Synolia\SchedulerCommandPlugin\Parser\CommandParser:
        arguments:
            $excludedNamespaces: ['_global']

    Synolia\SchedulerCommandPlugin\Command\SynoliaSchedulerRunCommand:
        $logsDir: '%kernel.logs_dir%'

    app.grid_field.scheduled_command.url:
        class: Synolia\SchedulerCommandPlugin\Grid\FieldType\ScheduledCommandUrlType
        tags:
            - { name: sylius.grid_field, type: scheduled_command_url }
